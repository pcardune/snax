import { GrammarTable } from '../../components/GrammarTable.js';

# Syntax-Directed Definitions (SDD)

A _syntax-directed definition_ (SDD) is a context-free grammar together with attributes and rules:

- Attributes - associated with grammar symbols, comes in two flavors:

  - _synthesized_: defined by a rule, in terms of the attributes of child nodes.
  - _inherited_: defined in terms of a node, its parent, and its siblings.
    Terminal nodes do not have inherited attributes.

- Rules - associated with productions.

For example, with the grammar

<GrammarTable
  grammar={{
    L: [['E', 'n']],
    E: [['E', '+', 'T'], ['T']],
    T: [['T', '*', 'F'], ['F']],
    F: [['(', 'E', ')'], ['digit']],
  }}
/>

each non-terminal, _{L, E, T, F}_, might have a synthesized attribute _val_,
and each production would have a rule that defines that attribute _val_
in terms of the attributes of the symbols on the right hand side of the
production.

The rule for production _T ⟶ T<sub>1</sub> \* F_ might be

> _T.val = T<sub>1</sub>.val \* F.val_

while the rule for production _F ⟶ _`digit` might be

> _F.val = _`digit`._token_

Here we see that `digit` has a different synthesized attribute, _token_, which
holds the actual token generated by the lexer.

**S-attributed** refers to an SDD that only has synthesized attributes, as in the above example.

Each rule consists of a series of assignments to different attributes. For example,
given the production

> _A ⟶ B C D_

we could have a rule consisting of the following assignments:

1. _A.syn = B.syn + C.syn_
1. _B.inh = D.val_
1. _C.inh = A.inh_

The attributes _syn_ and _val_ are synthesized attributes, and the attribute _inh_
is an inherited attribute. Assignments 2 and 3 use attributes from a sibling node
and a parent node respectively, while assignment 1 only uses attributes from
child nodes. The right hand side of the assignments involve computations so there
are really functions.

So, given the set of inherited and synthesized attributes, a rule consists of
a mapping from an attribute to a function that takes as arguments the nodes that are allowed to be referenced by that attribute (child nodes only for synthesize, parent and subling for inherited) and returns the value for that attribute. Some attributes
might not have associated functions, in which case no new value is assigned to that
attribute.

Also, since there can be multiple productions containing the same symbol, there can likewise be multiple rules that assign to the same attribute of that symbol.
